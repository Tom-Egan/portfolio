/* ================================================|
***************************************************|
                                                   |
  Globals                                          |        
                                                   |
***************************************************|
==================================================*/

:root {
  /* colors */
  --white: #fff;

  --off-white: #f9f9f9;
  --off-white-20: rgba(255,255,255,0.2);

  --dark-grey: #333;
  --dark-grey-20: rgba(51, 51, 51, 0.2);
  
  /* corner radius */
  --radius-12: 12px;
  --radius-40: 40px;

  /* sizing */
  --max-width: 1360px;
  --card-padding: 40px 40px 50px 40px;
  --padding: 24px;

  /* spacing */
  --space-xs: 8px;
  --space-sm: 16px;
  --space-md: 32px;
  --space-lg: 64px;
  --space-xl: 96px;

  /* type */
  --serif: "Glegoo"; /* weights = 400, 700 */
  --sans-serif: "Outfit"; /* weights = 100-900 */

  /* animation */
  --transition:0.2s ease-in-out;

  /* shadows */
  --shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
  --inner-shadow: inset 6px 6px 10px 0 rgba(0, 0, 0, 0.2), inset -6px -6px 10px 0 rgba(255, 255, 255, 0.5);
}

html { scroll-behavior: smooth; }

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body { 
  font-family: var(--sans-serif), sans-serif;
  background: #111;
  color: var(--dark-grey);
}

h2 {
  font-size: 7rem;
  text-align: center;
}

h3 {
  font-size: 1.8rem;
  line-height: 1.9rem;
  text-transform: uppercase;
}

h4{
  font-size: 1.6rem;
  line-height: 2.2;
}

p {
  max-width: 70ch;
  font-size: 1.2rem;
  line-height: 1.6;
  font-weight: 300;
  margin-top: var(--space-md);
}

strong {font-weight: 600;}

img {display: block; width: 100%; height: auto;}

button:hover {
  cursor: pointer;
}

/* heading that appears above project title */
.case-label {
  font-size: 1.4rem;
  line-height: 2.2;
  margin-bottom: -14px;
  margin-top: -60px;
  text-transform: uppercase;
  font-weight: bold;
  display: block;
}

/* small underline below select headings */
.header-underline {
  width: 80px;
  height: 4px;
  margin-top: 6px;
  align-self: flex-start;
}

/* set color for underline */
.header-underline--dark {background: var(--dark-grey);}
.header-underline--light {background: var(--off-white);}

/* slightly larger text for emphasis */
.accent-text {
  font-size: 1.4rem;
  line-height: 1.6;
}

/* add left border to the accent text */
.emphasis-block {
  border-left: 4px solid red;
  padding: 4px 0px 4px 12px;
}

/* general utilities */
.serif {font-family: var(--serif), serif;}
.italic {font-style: italic;}
.shadow--card {box-shadow: var(--shadow);}
.shadow--inner {box-shadow: var(--inner-shadow);}
.flex {display: flex;}
.flex-col {flex-direction: column;}
.flex-wrap {flex-wrap: wrap;}
.no-wrap {flex-wrap: nowrap;}
.sticky {position: sticky;}
.list--no-style{list-style: none;}

/* padding */
.padding-none {padding: 0;}
.padding-sm {padding: var(--space-sm);}
.padding-lg {padding: var(--space-lg);}
.padding-container {padding: var(--padding);}

/* margins between cards */
.gap-xs {gap: 12px;}
.gap-sm {gap: var(--space-sm);}
.gap-md {gap: var(--space-md);}

/* margins between content */
.spacer-md--top {margin-top: var(--space-md);}
.spacer-lg--top {margin-top: var(--space-lg);}
.spacer-xxl--top{margin-top: 180px;}


/* 12px corner radius */
.radius-sm {border-radius: var(--radius-12);}

/* 40px corner radius */
.radius-lg {border-radius: var(--radius-40);}
.radius-lg--top {border-radius: var(--radius-40) var(--radius-40) 0 0;}
.radius-lg--top-left {border-top-left-radius: var(--radius-40);}
.radius-lg--top-right {border-top-right-radius: var(--radius-40);}
.radius-lg--bottom {border-radius: 0 0 var(--radius-40) var(--radius-40);}
.radius-lg--left {border-radius: var(--radius-40) 0 0 var(--radius-40);}
.radius-lg--right {border-radius: 0 var(--radius-40) var(--radius-40) 0;}


/* base container element */
.container {
  position: relative;
  max-width: var(--max-width);
  margin: 0 auto;
}

/* base padding */
.container-padding {
  padding: var(--padding);
}

/* full width base container */
.full-bleed {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  overflow-x: clip;
}


/* ================================================|
***************************************************|
                                                   |
  Animation                                        |        
                                                   |
***************************************************|
==================================================*/


@media (prefers-reduced-motion: reduce) {
  [data-animate] {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

[data-animate] {
  opacity: 0;
  transform: translateY(24px);
  transition:
    opacity 0.6s ease,
    transform 0.6s ease;
}

[data-animate].in-view {
  opacity: 1;
  transform: none;
}

[data-delay="1"] { transition-delay: 0.1s; }
[data-delay="2"] { transition-delay: 0.2s; }
[data-delay="3"] { transition-delay: 0.3s; }


/* ================================================|
***************************************************|
                                                   |
  Case Study Hero                                  |        
                                                   |
***************************************************|
==================================================*/

/* full width bg container */
.case-hero {
  position: sticky;
  height: 100vh;
  width: 100%;
  top: 0;
  background: var(--dark-grey);
  color: var(--off-white);
  display: flex;
  align-items: center;
}

/* container for all the hero content */
.case-hero-content {
  width: 90vw;
  max-width: var(--max-width);
  margin: -80px auto 0 auto;
}

/* main project title */
.case-hero-content h1 {
  font-size: 11vw;
  line-height: 1;
  margin-top: var(--space-md);
}

/* parent wrapper for tags */
.tag-group {
  flex-wrap: wrap;
  row-gap: 0px;
}

/* subject matter tags below description */
.tag {
  padding: 10px var(--space-sm);
  background: #999;
  border-top-left-radius: var(--space-sm);
  border-bottom-right-radius: var(--space-sm);
  margin-top: var(--space-md);
  font-size: 0.9rem;
  font-weight: 400;
  line-height: 1;
  margin-bottom: -18px;
}


/* ================================================|
***************************************************|
                                                   |
  Case Study Main Content                          |        
                                                   |
***************************************************|
==================================================*/

/* full width content container */
.case-section {
  position: relative;
  width: 100%;
  background: var(--off-white);
  padding-bottom: var(--space-xl);
}

/* push the title container above the section */
.section-peek {
  position: relative;
  margin-top: -20px;
  margin-bottom: 24px;
  width: 100%;
}

/* three columns that make up the notch
with the middle column containing and image
for the complex border radius */
.notch {
  height: 63px;
  flex: 1;
  background: var(--off-white);
}

/* middle column that contains the notch */
.notch-bg {
  flex: 0 0 600px;
  background: url(../img/notch.svg);
  background-repeat: no-repeat;
}

/* title that sits on top of the section */
.section-overhang {
  position: absolute;
  display: block;
  width: 100%;
  font-size: 3rem;
  font-weight: bold;
  text-align: center;
  text-transform: uppercase;
  color: var(--off-white);
  margin-top: -110px;
  z-index: 3;
}

/* realign the beginning content for the notch */
.summary-section  {margin-top: -24px;}

/* realign the beginning content for the notch */
.summary-section  h2 {padding-top: 100px;}

.flex-col--half h3,
.flex-col--half p {
  width: 48%;
}

.rr-img {
  position: absolute;
  max-width: 55%;
  right: 0px;
  margin-top: -470px;
  overflow-x: hidden;
  z-index: 1;
  box-sizing: border-box;
}



/* ================================================|
***************************************************|
                                                   |
  Cards                                            |        
                                                   |
***************************************************|
==================================================*/


.article--scroll-cards {
  position: relative;
  background: #eeeeee;
  padding: 0;
  margin-top: var(--space-lg);
  margin-bottom: var(--space-lg);
}



/* container <div> for the cards */
/* child of #overview <article */
.list--scroll-cards {
  position: relative;
  overflow-x: auto;
  scroll-behavior: smooth;
  /* hide scrollbar: IE and Edge */
  -ms-overflow-style: none;
  /* hide scrollbar: Firefox */
  scrollbar-width: none;
}

/* hide scrollbar: Chrome */
.list--scroll-cards ::-webkit-scrollbar {
  display: none;
}

/* individual card styles */
/* cards are <li> elements */
.card {
  display: block;
  background: var(--white);
  padding: var(--card-padding);
  min-width: 360px;
}

/* add underline to the card's title */
.card-heading {
  text-transform: initial;
  border-bottom: 2px solid var(--dark-grey-20);
  font-size: 1.6rem;
  line-height: 2rem;
  padding-bottom: var(--space-sm);
}

/* text adjustments for the card body text */
.card-content {
  margin-top: var(--space-sm);
  font-size: 1.1rem;
  line-height: 1.6;
}

/* override margin of JLR logo */
#card-jlr-logo {
  position: relative;
  display: block;
  padding-bottom: var(--space-md);
  top: var(--space-md);
}

/* container for the arrow controls to
move the scrollable list of cards */
.overview-card-controller {
  position: relative;
  width: 100%;
  height: 56px;
  top: -93px;
  z-index: 2;
  padding: 0 24px 0 0;
  justify-content: flex-end;
}

/* button wrapper */
.card-controller {
  position: relative;
  height: 100%;
  width: 140px;
  background: #ccc;
  border: 2px solid #ccc;
}

/* the left/right arrow buttons */
.card-controller button {
  flex-grow: 1;
  background: none;
  border: none;
  outline: none;
  color: var(--off-white);
  font-size: 1.5rem;

}
/* the left/right arrow buttons */
.card-controller button:hover {

}

/* the left/right arrow buttons */
.card-controller button:active {
  background: #555;
}

.article--icon-card .list--scroll-cards {
  flex-wrap: wrap;
}

/* <li> element of the three design impact cards */
.card--icon{
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  position: relative;
  background: #ccc;
  flex: 1;
  min-width: 300px;
  padding: var(--card-padding);
}

/* nested <div> holding the icons  */
.icon-card-img {
  position: relative;
  display: flex;
  align-items: center;
  margin-top: var(--space-md);
  margin-bottom: var(--space-lg);
}

/* the icons inside */
.icon-card-img svg {
  position: relative;
  width: 100%;
  max-height: 120px;
}



/* ================================================|
***************************************************|
                                                   |
  Section Subnavigation                            |        
                                                   |
***************************************************|
==================================================*/

#subnav {
  z-index: 9999;
}

/* DESKTOP ONLY: subnav participates in layout */
#subnav.subnav-desktop-nav {
  position: relative;
  inset: auto;
  /*margin-top: -78px;*/
  display: flex;
  justify-content: center;
}


/* ============= DESKTOP SUBNAV ============= */

/* hide the subnav mobile elements when the 
.subnav-desktop-nav classes gets added in js */
.mobile-subnav, 
.btn-close--subnav,
#subnav.subnav-desktop-nav .overlay-anchor,
#subnav.subnav-desktop-nav .btn-close--subnav,
#subnav.subnav-desktop-nav #mobileCaseStudyTitle  {
  display: none;
}

/* ===============================
   DESKTOP: disable overlay shell
================================ */

/* Restore layout participation */
#subnav.subnav-desktop-nav {
  position: relative;
}

/* parent container for subnavigation */
/* .fixed class added in javascript */
#subnav.fixed {
  position: fixed;
  top: 12px;
  left: 0;
  width: 100%;
  margin-top: 58px;
}

/* THIS IS THE FIX */
#subnav.subnav-desktop-nav .subnav-panel {
  position: static;       /* re-enters document flow */
  inset: auto;
  background: transparent !important;
  transform: none !important;
  transition: none !important;
}

/* <ul> item of navigation links for desktop */
#ul-subnav.desktop-nav {
  position: absolute;
  display: flex;
  flex-direction: row;
  justify-content: center;
  margin-top: -88px;
  margin-bottom: 30px;
  left: 50%;
  transform: translate(-50%, 50%);
  background: var(--white);
  width: fit-content;
  margin-left: auto;
  margin-right: auto;
  box-shadow: var(--shadow);
}

/* desktop: parent <li> for subnav links */
.desktop-nav.list--subnav li {
  padding: var(--space-sm) 0;
}

/* desktop: first <li> for subnav links */
/* set pill-shaped radius on first link in navbar */
.desktop-nav.list--subnav li:first-child,
.desktop-nav.list--subnav li:first-child a{
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}

/* desktop: last <li> for subnav links */
/* set pill-shaped radius on last link in navbar */
.desktop-nav.list--subnav li:last-child,
.desktop-nav.list--subnav li:last-child a{
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}

/* desktop: subnav links inside the <li> */
.desktop-nav.list--subnav li a {
  padding: var(--space-sm) var(--space-md);
  text-decoration: none;
  font-weight: 500;
}

/* desktop: [hover] for subnav links inside the <li> */
.desktop-nav.list--subnav li a:hover {
  background: #222;
}

/* desktop: [active] for subnav links inside the <li> */
.desktop-nav.active-section a{
  background: var(--dark-grey-20);
  border-bottom: 5px solid #222;
}


/* ========= MOBILE SUBNAV OVERLAY ========= */

/* prevent scrolling content underneath when
the overlay is open. This is controlled in js */
body.nav-locked {
  overflow: hidden;
  height: 100vh;
}

/* overlay wrapper */
#subnav.subnav-mobile-nav {
  position: fixed;
  inset: 0;
  background: none;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.25s ease;
}

/* open overlay */
#subnav.subnav-mobile-nav.is-open {
  pointer-events: auto;
  opacity: 1;
}

#subnav.subnav-mobile-nav .subnav-panel {
  background: transparent;
}

#subnav.subnav-mobile-nav.is-open .subnav-panel {
  background: rgba(0,0,0,0.9);
}

/* sliding panel */
.subnav-panel {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: rgba(0,0,0,0.9);
  transform: translateY(-100svh);
  transition: none;
}

/* Animate ONLY when user opens menu */
#subnav.subnav-mobile-nav.is-open .subnav-panel {
  transition: transform 0.45s ease;
  transform: translateY(0);
}

/* attributes that the subnav header and footer
wrappers is applied when the .subnav-mobile-nav
class is  added in js */
.overlay-anchor{
  display: flex;
  flex-direction: row;
  gap: var(--space-sm);
  position: absolute;
  justify-content: center;
  align-items: flex-end;
  width: 100%;
  padding: var(--space-sm);
}

/* anchor header to the top */
.overlay-anchor--top {top: 0;}

/* anchor close button to the bottom */
.overlay-anchor--bottom {bottom: 0;}

/* mobile overlay footer <ul> holding the links */
#subnav.subnav-mobile-nav .overlay-anchor--bottom ul {
  position: relative;
  justify-content: center;
  align-content: stretch;
  width: 100%;
  background: #666;
}

/* mobile overlay header <li> holding the links */
#subnav.subnav-mobile-nav .overlay-anchor--bottom ul li {
  display: inline-block;
  position: relative;
  flex-grow: 1;
  width: 100%;
  background: #222;
}

/* mobile overlay header links */
#subnav.subnav-mobile-nav .overlay-anchor--bottom ul li a {
  text-align: center;
  display: block;
  position: relative;
  background: #555;
  text-decoration: none;
  padding: var(--space-sm);
  cursor: pointer;
}

#subnav.subnav-mobile-nav .overlay-anchor--bottom ul li a:hover {
  background: #ccc;
}

/* mobile subnav overlay header elements */
.overlay-anchor--top button,
.overlay-anchor--top a {
  flex-grow: 1;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
}

/* mobile subnav overlay close button */
.overlay-anchor--top button {
  display: block;
  padding: 10px;
}

.overlay-anchor--bottom li a {
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: var(--off-white);
}

.overlay-anchor--bottom a img {
  max-width: 32px;
  position: relative;
  margin: 0 auto;
  padding-bottom: 6px;
}

.subnav-project-title {
  font-size: 13vw;
  line-height: 1;
  font-weight: bold;
  margin-bottom: 40px;
  margin-top: 16px;
}

/* Menu label for mobile nav */
/* show when the mobile class is loaded in js */
#subnav.subnav-mobile-nav #mobileCaseStudyTitle {
  display: inline-block;
  color: var(--off-white);
  padding-left: var(--space-md);
  margin-top: 0px;
}

/* <ul> item of navigation links for mobile */
#ul-subnav.mobile-nav {
  position: relative;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  flex: 1;
  height: auto;
  margin-top: -24px;
  padding: 0;
  background: none;
}

/* original subnavigation container */
/* <nav> element */
.mobile-nav.nav--case-study {
  width: 100%;
  background: none;
}

.mobile-nav.list--subnav li {
  display: flex;
  margin-top: 0;
  margin-bottom: 1px;
  padding-left: var(--space-sm);
  padding-right: var(--space-sm);
}

/* set pill-shaped radius on first link in navbar */
.mobile-nav.list--subnav li:first-child,
.mobile-nav.list--subnav li:first-child a{
  border-top-left-radius: 0px;
  border-bottom-left-radius: 0px;
}

/* set pill-shaped radius on last link in navbar */
.mobile-nav.list--subnav li:last-child,
.mobile-nav.list--subnav li:last-child a{
  border-top-right-radius: 0px;
  border-bottom-right-radius: 0px;
}

.mobile-nav.list--subnav li a {
  position: relative;
  min-width: 100%;
  padding: var(--space-sm);
  color: var(--off-white);
  text-decoration: none;
  font-size: 6vw;
  transition: var(--transition);
}

.mobile-nav.list--subnav li a:hover {
  background: red;
}

.mobile-nav li .link-underline--bottom {
  border-bottom: 2px solid var(--off-white-20);
}

.mobile-nav.active-section a {
  width: 100%;
}

/* ================================================|
***************************************************|
                                                   |
  Media Queries                                    |        
                                                   |
***************************************************|
==================================================*/

@media (max-width: 800px) {
  /* collapse range rover image to single col */
  .flex-col--half h3,
  .flex-col--half p,
  .rr-img {
    position: relative;
    max-width: 100%;
    width: 100%;
  }

  .rr-img {
    margin-top: 0;
    overflow-x: hidden;
  }

  .article-spacer-lg{margin-top: var(--space-lg);}
}

/* 700px */
@media (max-width: 700px) {

  /* main project title */
  .case-hero-content h1, .summary-section  h2{font-size: 18vw;}

  /* collapse cards into a single column layout */
  /* readjust the padding and margins for mobile */
  .list--scroll-cards {
    flex-wrap: wrap;
    overflow-x: clip;
    row-gap: var(--space-md);
    padding: var(--space-lg) var(--space-md);
  }

  .article--icon-card .list--scroll-cards {padding: 0;}

  /* converts the cards into a stackable set */
  .card, .icon-card{
    position: sticky;
    top: 70px;
    min-width: 100%;
  }

  /* remove the notch */
  .notch-bg {
    flex: 1;
    background: var(--off-white);
  }

  /* show the mobile subnav button */
  /* <div> holding the menu button */
  .mobile-subnav {
    position: sticky;
    display: flex;
    justify-content: center;
    z-index: 9998;
    margin-top:-78px;
    margin-bottom: -52px;
    top: -4px;
    width: 100%;
    padding: var(--space-sm) var(--space-md);
  }

  /* mobile subnav "menu" button on mobile */
  .btn--subnav {
    margin: 0 auto 0 auto;
    padding: 10px;
    width: 100%;
    font-size: 1rem;
    font-weight: 600;
  }

  /* hide the left/right nav arrows when
  ** the cards collapse to single column */
  .overview-card-controller {display: none;}
  .case-label, .accent-text {font-size: 1.1rem;}
  .tag {font-size: 0.8rem;}

  .case-label {
    margin-bottom: -10px;
    margin-top: 0;
  }
}
